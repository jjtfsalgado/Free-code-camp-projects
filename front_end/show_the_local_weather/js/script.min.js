window.onload=function(){$.getJSON("http://ipinfo.io/?callback=?",function(a){function b(a){var b=a.weather[0],c=a.main;$("#currentLocation").prepend("<p> </p>"),$("#currentLocation").html(e+", "+f),$("#currentTemp").prepend("<p> </p>");var d=Math.floor(+c.temp-273.15),g=Math.floor(1.8*+c.temp-459.67);if($("#currentTemp").html(d+" 째C"),$("#currentTemp").click(function(){$(this).html($(this).html()==d+" 째C"?g+" 째F":d+" 째C")}),document.getElementById("description").title=b.description,"Clouds"==b.main){var h='<div class="icon cloudy"><div class="cloud"></div><div class="cloud"></div></div>';$("#currentWeatherIcon").append(h)}else if("Rain"==b.main){var i='<div class="icon sun-shower"><div class="cloud"></div><div class="sun"><div class="rays"></div></div><div class="rain"></div></div>';$("#currentWeatherIcon").append(i)}else if("Clear"==b.main){var j='<div class="icon sunny"><div class="sun"><div class="rays"></div></div></div>';$("#currentWeatherIcon").append(j)}else if("Atmosphere"==b.main){var h='<div class="icon cloudy"><div class="cloud"></div><div class="cloud"></div></div>';$("#currentWeatherIcon").append(h)}else if("Snow"==b.main){var k='<div class="icon flurries"><div class="cloud"></div><div class="snow"><div class="flake"></div><div class="flake"></div></div></div>';$("#currentWeatherIcon").append(k)}else if("Thunderstorm"==b.main){var l='<div class="icon thunder-storm"><div class="cloud"></div><div class="lightning"><div class="bolt"></div><div class="bolt"></div></div></div>';$("#currentWeatherIcon").append(l)}else if("Extreme"==b.main){var m='<div class="icon rainy"><div class="cloud"></div><div class="rain"></div></div>';$("#currentWeatherIcon").append(m)}else if("Drizzle"==b.main){var m='<div class="icon rainy"><div class="cloud"></div><div class="rain"></div></div>';$("#currentWeatherIcon").append(m)}}function c(a,b,c){alert("Request Failed: "+b+", "+c+":Please refresh page")}var d=a.city,e=a.region,f=a.country;console.log(d,e,f);var g="http://api.openweathermap.org/data/2.5/weather?q=",h="&APPID=cae9e4ee1cebeade6f1a8aacd089cba0",i=g+e+h;$.getJSON(i).done(b).fail(c)}).fail(function(a,b,c){alert("Request Failed: "+b+", "+c+":Please refresh page")})};